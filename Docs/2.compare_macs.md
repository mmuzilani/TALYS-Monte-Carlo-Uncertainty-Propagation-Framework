# Module: [compare_macs.py](https://github.com/mmuzilani/A-Python-Based-Monte-Carlo-Nuclear-Reaction-Network-for-the-Iron-Isotopic-Chain/blob/main/Src/2.compare_macs.py)

This script compares **Maxwellian-Averaged Cross Sections (MACS)** computed from TALYS (theoretical nuclear model) with **experimental MACS** values collected from **KADoNiS / EXFOR**.  
It quantifies the difference between theory and experiment and generates comparison plots for each neutron-capture reaction in the Fe-chain.

---

After computing MACS from TALYS using `compute_macs_from_talys.py`, this script performs:

1. **Loading two datasets**
   - `Fe_MACS_TALYS.csv` → theoretical MACS from TALYS
   - `Fe_MACS_Kd.csv` → experimental MACS from KADoNiS  
     (combined into one file)

2. **Matching on common keys**
   - Reaction type (e.g., ⁵⁶Fe(n,γ)⁵⁷Fe)
   - Temperature kT (keV)

3. **Generating plots**
   - Scatter plots of TALYS vs. experimental MACS  
   - Annotated with % differences  
   - One PNG image per reaction

---

# **Input Files**

Place these files in your `Data/` directory:

**1. TALYS MACS (generated)** : Fe_MACS_TALYS.csv

**2. Experimental MACS** : Fe_MACS_Kd.csv


---

# **How the Script Works**

### Step 1 — Load both MACS datasets

```python
talys = pd.read_csv("Fe_MACS_TALYS.csv")
expt  = pd.read_csv("Fe_MACS_Kd.csv")
```
### Step 2 — Merge TALYS & Experimental data

A direct merge ensures same reaction & same temperature:
```
cmp = talys.merge(expt, on=["Reaction","kT_keV"])
```
### Step 3 — Compute percentage difference
```
cmp["pct_diff"] = 100 * (talys - expt) / expt
```
### Step 4 — Make comparison graph for each reaction

Each plot includes:

-TALYS MACS (x marker)
-Experimental MACS (circle marker)
-Errors annotated in %
-Saved as high-resolution .png

## Output Files (PNG)

For each reaction, one image is generated:

Example:
```
macs_compare_⁵⁶Fe(n,g)⁵⁷Fe.png
macs_compare_⁵⁷Fe(n,g)⁵⁸Fe.png
macs_compare_⁵⁸Fe(n,g)⁵⁹Fe.png
macs_compare_⁵⁹Fe(n,g)⁶⁰Fe.png
```









